services:
  _defaults:
    autowire: true
    public: true

  zf.query_builder_factory:
    class: ZfBundle\Services\QueryBuilderFactory
    arguments:
      - "@doctrine.orm.entity_manager"

  ZfBundle\Services\DataGateway:
    arguments:
      $entityManager:
        "@doctrine.orm.entity_manager"
      $queryBuilderFactory:
        "@zf.query_builder_factory"
      $createEntityFromDTO:
        "@core.create_entity_from_dto"
      $entityUpdater:
        "@core.update_entity_from_dto"
      $dtoAssembler:
        '@Ivoz\Core\Application\Service\Assembler\DtoAssembler'